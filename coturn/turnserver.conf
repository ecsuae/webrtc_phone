# /etc/coturn/turnserver.conf

listening-port=3478
tls-listening-port=5349

realm=phone.srve.cc
server-name=phone.srve.cc

fingerprint
lt-cred-mech
user=turnuser:turnpass

# Public IP (your VPS public)
# inside Docker bridge: 172.18.0.2 (container IP) is NOT the host's private LAN IP
# You need mapping PUBLIC/PRIVATE (PRIVATE = host's docker-facing IP, often 172.18.0.1 OR the host LAN IP)

external-ip=38.242.157.239/172.18.0.1
# OR if your docker bridge gateway is different:
# external-ip=38.242.157.239/<docker_bridge_gateway_ip>
# Listen/relay inside container
listening-ip=0.0.0.0
relay-ip=0.0.0.0

# Relay ports
min-port=49160
max-port=49200

# ---- IMPORTANT: FIX FOR 403 Forbidden IP ----
# Allow ALL IPv4 peers (temporary, for testing)
allowed-peer-ip=0.0.0.0-255.255.255.255

# Make sure we are NOT blocking anything
# (Do NOT set denied-peer-ip / no-peer-ip / no-multicast-peers is OK)
no-loopback-peers
no-multicast-peers

# Logging
verbose
log-file=stdout
